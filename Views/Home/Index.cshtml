@model Homework_SkillTree.Models.ViewModels.CashFormListViewModel
@{
    ViewBag.Title = "Home Page";
}

<div class="well">
    @Html.Partial("_CashRecordForm")
</div>

<div class="row">
    <div class="col-md-12">
        <table class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(m => m.CashRecordForm.Id)</th>
                    <th>@Html.DisplayNameFor(m => m.CashRecordForm.Category)</th>
                    <th>@Html.DisplayNameFor(m => m.CashRecordForm.Date)</th>
                    <th>@Html.DisplayNameFor(m => m.CashRecordForm.Money)</th>
                </tr>
            </thead>

            <tbody id="ajaxPanel">
                @{
                    int count = 1;
                }
                @foreach (var item in Model.CashRecords)
                {
                    <tr>
                        <td>@count</td>
                        @Html.Partial("_ShowRecords", item.Category)
                        <td>@Html.DisplayFor(m => m.CashRecords[count - 1].Date)</td>
                        <td>@item.Money</td>
                    </tr>
                    count++;
                }
            </tbody>
        </table>
    </div>
</div>

@section scripts{
    <script>
        $(function () {
            $('#CashRecordForm_Date').datetimepicker({
                format: 'Y-m-d',
                timepicker: false,
            });
        });
    </script>
}